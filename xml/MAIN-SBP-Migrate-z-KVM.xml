<?xml version="1.0" encoding="UTF-8"?>
<!--<?oxygen RNGSchema="http://www.oasis-open.org/docbook/xml/5.0/rng/docbook.rng" type="xml"?>-->
<!DOCTYPE article [
<!ENTITY % entity SYSTEM "entity-decl.ent">
%entity;
]>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="art.sbp.geo.drbd" xml:lang="en">

    <info>
        <title>Migrating from KVM for IBM z Systems to KVM integrated with SUSE Linux Enterprise
            Server</title>
        <subtitle>For SAP HANA 2.0 Deployments on IBM Power Systems</subtitle>
        <!--<orgname>SUSE Best Practices</orgname>-->
        <productname>SUSE Linux Enterprise Server for System z</productname>
        <productnumber>12 SP2</productnumber>
        <!-- <productname>SUSE Linux Enterprise Server for System z</productname>-->
        <!-- <productnumber>12 SP2</productnumber>-->


        <author>
            <personname>
                <firstname>Mike</firstname>
                <surname>Friesenegger, Technology Strategist - Alliances and Integrated Systems,
                    SUSE</surname>
            </personname>
            <!--<personname>
                <firstname>Mike</firstname>
                <surname>Friesenegger</surname>
            </personname>
            <affiliation>
                <jobtitle>Technology Strategist - Alliances and Integrated Systems</jobtitle>
                <orgname>SUSE</orgname>
            </affiliation>-->
        </author>

        <date><?dbtimestamp format="B d, Y" ?></date>

        <abstract>
            <para>On March 7, 2017, IBM announced the end of support for KVM for IBM z Systems:
                ***add link***. Preceding the IBM announcement on March 1, 2017, SUSE announced full
                support for KVM in SUSE Linux Enterprise Server 12 SP2 for z Systems and LinuxONE:
                ***add link*** and continuing for future versions of SLES. </para>

            <para>Customers that are using or testing KVM for IBM z Systems may have been using the
                IBM Redbook <quote>Getting Started with KVM for IBM z Systems</quote> at <link
                    xlink:href=" http://www.redbooks.ibm.com/abstracts/sg248332.html?Open&amp;pdfbookmark"
                /> . This SUSE best practices document will cover topics important in migrating from
                KVM for IBM z Systems to KVM in SUSE Linux Enterprise Server.</para>



        </abstract>
    </info>


    <sect1 xml:id="sec.installing">
        <title>Installing SUSE Linux Enterprise for z Systems and LinuxONE as KVM Host</title>

        <para>Like KVM for IBM z Systems, KVM in SLES is supported when installed into an PR/SM
            LPAR. The <quote>Installation on IBM z Systems</quote> section <link
                xlink:href="https://www.suse.com/documentation/sles-12/book_sle_deployment/data/cha_zseries.html"
            /> of the SUSE Linux Enterprise Server Deployment Guide provides information regarding
            supported hardware and memory requirements for installing into an LPAR. The
                <quote>Overiew of an LPAR Installation</quote> section at <link
                xlink:href="https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_zseries_prep.html#sec_prep_inst_types"
            /> reviews the preparation and initial steps in starting the SUSE Linux Enterprise
            Server Installation System. </para>

        <para>A suggested partitioning layout includes separating the storage of the KVM disk images
            from the operating system. Using the BTRFS filesystem for the operating system enables
            rollback capabilities when patching the system. The default location for the KVM disk
            images is <filename>/var/lib/libvirt/images/</filename>. It is recommended to use
            Logical Volume Manager with the XFS filesystem for KVM disk images.</para>

        <para>For the Software Selection in the installer, use the list below for the minimum and
            suggested additional patterns to be installed.</para>

        <para>Minimum Patterns:</para>
        <itemizedlist>
            <listitem>
                <para>Base System</para>
            </listitem>
            <listitem>
                <para>Minimal System (Appliances)</para>
            </listitem>
            <listitem>
                <para>Help and Support Documentation</para>
            </listitem>
            <listitem>
                <para>KVM Virtualization Host and tools</para>
            </listitem>
        </itemizedlist>

        <para>Suggested additional Patterns</para>
        <itemizedlist>
            <listitem>
                <para>GNOME Desktop Environment &amp; X Window System (needed for managing
                    virtual machines using a GUI)</para>
            </listitem>
        </itemizedlist>

        <para>Make sure to register and patch the KVM host either during the initial installation or
            after the installation is complete.</para>


    </sect1>

    <sect1 xml:id="sec.managing_kvm">
        <title>Managing KVM Instances</title>

        <para>It is recommended to use utilities that manage virtual machines using the libvirt API.
            The section <quote>Managing Virtual Machines with libvirt</quote> at <link
                xlink:href="https://www.suse.com/documentation/sles-12/book_virt/data/part_virt_libvirt.html"
            /> provides information about using both command line and GUI based tools. It is
            strongly recommended to use the previous link because it contains detailed information
            about VM installation and management as well as storage and network management for VMs.
            The sections below provide additional information about accessing a particular
            tool.</para>

        <sect2 xml:id="sec.manage_commandline">
            <title>Using the command line to create and manage instances</title>

            <para>virsh and virt-install are the command line utilities to manage virtual machines.
                These utilities are installed as part of the KVM Virtualization Host and tools
                pattern. The section <quote>Virtualization Console Tools</quote> at <link
                    xlink:href="https://www.suse.com/documentation/sles-12/book_virt/data/sec_tools_intro_console.html"
                /> provides an introdution to these utilites.</para>

            <para>Use ssh to log into the KVM host to use virsh and virt-install.</para>

        </sect2>

        <sect2 xml:id="sec.manage_gui">
            <title>Managing virtual machines using a GUI</title>

            <para>Virtual Machine Manager (virt-manager) is the GUI tool used to manage virtual
                machines. This utility is installed as part of the KVM Virtualization Host and tools
                pattern. The section <quote>Virtualization GUI Tools</quote> at <link
                    xlink:href="https://www.suse.com/documentation/sles-12/book_virt/data/sec_tools_intro_gui.html"
                /> provides an introduction.</para>

            <para>To access the virt-manager GUI, use X11 forwarding via ssh or vncviewer. X11
                forwarding is a good option if the connection (local or metropolitan area network)
                speed between the client and the KVM host is fast. Use vncviewer if you find that
                X11 redirection is too slow. Perform the following actions to enable access to
                virt-manager.</para>

            <itemizedlist>
                <listitem>
                    <para>Both X11 forwarding via ssh and vncviewer</para>
                    <itemizedlist>
                        <listitem>
                            <para>Install the Suggested additional Patterns listed above using YAST
                                or zypper</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>For X11 forwarding via ssh</para>
                    <itemizedlist>
                        <listitem>
                            <para>From a client terminal, ssh -X &lt;KVM hostname&gt;</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>For vncviewer access to the KVM host</para>
                    <itemizedlist>
                        <listitem>
                            <para>Start YaST and go into Network Services | Remote Administration
                                (VNC)</para>
                        </listitem>
                        <listitem>
                            <para>Select "Allow Remote Administration Without Session Management"
                                and click OK</para>
                        </listitem>
                        <listitem>
                            <para> From a client terminal, vncviewer &lt;KVM
                                hostname::1&gt;</para>
                        </listitem>
                        <listitem>
                            <para>Log in to the KVM host in the window opened by the previous
                                command</para>
                        </listitem>
                        <listitem>
                            <para>Click the Applications | Utilites | XTerm</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Within the X11 forwarding via ssh client terminal and XTerm window in vncviewer window</para>
                    <itemizedlist>
                        <listitem>
                            <para>virt-manager</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </itemizedlist>

        </sect2>




    </sect1>

 



    <sect1 xml:id="sec.legal_notice">
        <title>Legal Notice</title>

        <para>Copyright &copy;2006â€“ 2016 SUSE LLC and contributors. All rights reserved. </para>

        <para>Permission is granted to copy, distribute and/or modify this document under the terms
            of the GNU Free Documentation License, Version 1.2 or (at your option) version 1.3; with
            the Invariant Section being this copyright notice and license. A copy of the license
            version 1.2 is included in the section entitled <quote>GNU Free Documentation
                License</quote>.</para>

        <para>SUSE, the SUSE logo and YaST are registered trademarks of SUSE LLC in the United
            States and other countries. For SUSE trademarks, see <link
                xlink:href="http://www.suse.com/company/legal/"
                >http://www.suse.com/company/legal/</link>.</para>

        <para>Linux is a registered trademark of Linus Torvalds. All other names or trademarks
            mentioned in this document may be trademarks or registered trademarks of their
            respective owners.</para>

        <para>All information found in this document has been compiled with utmost attention to
            detail. However, this does not guarantee complete accuracy. Neither SUSE LLC, its
            affiliates, the authors, nor the translators shall be held liable for possible errors or
            the consequences thereof.</para>

    </sect1>



    <?pdfpagebreak style="suse2013" formatter="fop"?>



    <xi:include href="license-gfdl.xml"/>

</article>
